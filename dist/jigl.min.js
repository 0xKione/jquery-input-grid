Array.prototype.find||(Array.prototype.find=function(i){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof i)throw new TypeError("predicate must be a function");for(var n,t=Object(this),e=t.length>>>0,l=arguments[1],a=0;e>a;a++)if(n=t[a],i.call(l,n,a,t))return n}),function(i,n){var t=function(i,n,t){var e;return function(){function l(){t||i.apply(a,s),e=null}var a=this,s=arguments;e?clearTimeout(e):t&&i.apply(a,s),e=setTimeout(l,n||100)}};jQuery.fn[n]=function(i){return i?this.bind("resize",t(i)):this.trigger(n)}}(jQuery,"smartResize");var Jigl=function(){var i,n="",t=!1,e=function(i){var e=$(i).find(".jigl-select-dropdown");e.height()>=e.css("max-height").replace(/[^-\d\.]/g,"")&&e.width(e.width()+20),e.show(),"none"==$(i).css("float")&&($(i).css("overflow","initial"),$(i).css("float","right"),$(i).css("z-index","1000"),t=!0),$(i).find(".jigl-dropdown-arrow > i").removeClass("fa-caret-down").addClass("fa-caret-up");var l=$(i).find(".jigl-input-field > div").text(),a=$(i).find(".jigl-option").get().find(function(i,n,t){return $(i).text()==l});a&&($(a).addClass("jigl-option-selected"),e.scrollTop(a.offsetTop)),n=l},l=function(i,e){var l=$(i).find(".jigl-select-dropdown");$(i).find(".jigl-dropdown-arrow > i").addClass("fa-caret-down").removeClass("fa-caret-up"),$(i).find(".jigl-option-selected").removeClass("jigl-option-selected"),l.height()>=l.css("max-height").replace(/[^-\d\.]/g,"")&&l.width(l.width()-20),l.hide(),t&&($(i).css("overflow",""),$(i).css("float",""),$(i).css("z-index",""),t=!1),e||$(i).find(".jigl-input-field > div").html(n),n=""},a=function(i){$(i).find(".jigl-range-dropdown").show(),$(i).find(".jigl-dropdown-arrow > i").removeClass("fa-caret-down").addClass("fa-caret-up")},s=function(i){$(i).find(".jigl-dropdown-arrow > i").addClass("fa-caret-down").removeClass("fa-caret-up"),$(i).find(".jigl-option-selected").removeClass("jigl-option-selected"),$(i).find(".jigl-range-dropdown").hide();var n=$(i).find("span.jigl-range-min"),t=$(i).find("span.jigl-range-max"),e=$(i).find("input.jigl-range-min"),l=$(i).find("input.jigl-range-max");e.val().length<=1?e.val(n.html()):n.html(e.val()),l.val().length<=1?l.val(t.html()):t.html(l.val())},d=function(i){i||(i="body"),$(i).find(".jigl-text .jigl-input-field").on("blur",function(i){i.preventDefault(),$(this).parents("form").find(".jigl-text .jigl-input-field").keyup()}),$(i).find(".jigl-input-field, .jigl-select, .jigl-range").on("focus",function(i){i.preventDefault();var n=[];n=$(this).hasClass("jigl-input-field")?$(this).parents(".jigl-input"):$(this);var t=n.find(".jigl-input-info");t.length>0&&(t.hasClass("jigl-input-error")&&t.removeClass("jigl-input-error"),t.hasClass("jigl-input-okay")&&t.removeClass("jigl-input-okay"),t.html("")),n.removeClass("jigl-input-hover"),n.addClass("jigl-input-focus")}),$(i).find(".jigl-input-field, .jigl-select, .jigl-range").on("keyup",function(i){i.preventDefault();var n=fieldTag=[],t=!1;$(this).hasClass("jigl-input-field")?(n=$(this).parents(".jigl-input"),fieldTagValue=$(this).val()):$(this).hasClass("jigl-select")?(n=$(this),fieldTagValue=$(this).find(".jigl-input-field > div").text()):(t=!0,n=$(this),fieldTagValue=""!=$(this).find("input.jigl-range-min").val()||$(this).find("input.jigl-range-max").val()?{min:$(this).find("input.jigl-range-min").val(),max:$(this).find("input.jigl-range-max").val()}:null);var e=n.find(".jigl-input-info");if(e.length>0&&!n.hasClass("jigl-no-valid")){var l=!1;n.data().validate?(l=n.data().validate(fieldTagValue),n.data().valid=l):(l=""!=fieldTagValue||t&&null!=fieldTagValue,n.data().valid=l),l?(n.hasClass("jigl-input-xs")||n.hasClass("jigl-input-xxs")||n.hasClass("jigl-input-micro")?e.html("<i class='fa fa-check'></i>"):e.html("OK"),e.addClass("jigl-input-okay")):(n.hasClass("jigl-input-xs")||n.hasClass("jigl-input-xxs")||n.hasClass("jigl-input-micro")?e.html("<i class='fa fa-times'></i>"):e.html("Invalid"),e.addClass("jigl-input-error"))}}),$(i).find(".jigl-input-field, .jigl-select, .jigl-range").on("blur",function(i){i.preventDefault();var n=[];n=$(this).hasClass("jigl-input-field")?$(this).parents(".jigl-input"):$(this).hasClass("jigl-select")?$(this):$(this),n.removeClass("jigl-input-focus")}),$(i).find(".jigl-hoverable").on("mouseover",function(i){$(this).hasClass("jigl-input-focus")||$(this).addClass("jigl-input-hover")}),$(i).find(".jigl-hoverable").on("mouseleave",function(i){$(this).removeClass("jigl-input-hover")}),$(i).find(".jigl-text").on("click",function(i){$(this).find(".jigl-input-field").focus()}),$(i).find(".jigl-select").on("click",function(i){i.stopPropagation(),$(this).find(".jigl-select-dropdown").is(":visible")?l(this,!1):e(this)}),$(i).find(".jigl-select").on("blur",function(i){$(this).find(".jigl-select-dropdown").is(":visible")&&l(this,!1)}),$(i).find(".jigl-select").on("keydown",function(i){var n=$(this).find(".jigl-select-dropdown");if(n.is(":visible")){var t=$(this).find("input"),e=$(this).find(".jigl-input-field > div"),a=i.keyCode,s=$(".jigl-option.jigl-option-selected",n).first();return 40==a?(i.preventDefault(),0==s.length?$(".jigl-option",n).first().addClass("jigl-option-selected"):s.text()!=$(this).find(".jigl-option").last().text()&&s.removeClass("jigl-option-selected").next(".jigl-option").addClass("jigl-option-selected"),n.scrollTop($(this).find(".jigl-option-selected").get(0).offsetTop),e.html($(".jigl-option.jigl-option-selected",n).first().text()),void $(this).resize()):38==a?(i.preventDefault(),0==s.length?$(".jigl-option",n).last().addClass("jigl-option-selected"):s.text()!=$(this).find(".jigl-option").first().text()&&s.removeClass("jigl-option-selected").prev(".jigl-option").addClass("jigl-option-selected"),n.scrollTop($(this).find(".jigl-option-selected").get(0).offsetTop),e.html($(".jigl-option.jigl-option-selected",n).first().text()),void $(this).resize()):13==a?(i.preventDefault(),0!=s.length&&(e.html(s.text()),t.attr("value",s.attr("data-value")),t.val(s.attr("data-value")),s.removeClass("jigl-option-selected")),void(n.is(":visible")&&(l(this,!0),$(this).find("input").change()))):27==a?void(n.is(":visible")&&l(this,!1)):void 0}});var n=!1;$(i).find(".jigl-range").on("click",function(i){i.stopPropagation(),i.preventDefault(),$(this).find(".jigl-range-dropdown").is(":visible")?n||s(this):a(this)}),$(i).find(".jigl-range").on("blur",function(i){$(this).find(".jigl-range-dropdown").is(":visible")&&(n||s(this))}),$(i).find(".jigl-range-dropdown").on("mouseenter",function(i){n=!0}),$(i).find(".jigl-range-dropdown").on("mouseleave",function(i){n=!1}),$(i).find(".jigl-range-input").on("click focus",function(i){$(this).val("$")}),$(i).find(".jigl-range-input").on("keyup",function(i){0==$(this).val().length&&$(this).val("$")}),$(i).find(".jigl-range-input").on("blur",function(i){n||s($(this).parents(".jigl-range"))}),$(i).find(".jigl-range-input").keydown(function(i){-1!==$.inArray(i.keyCode,[46,8,9,27,13,110,190])||65==i.keyCode&&(i.ctrlKey===!0||i.metaKey===!0)||i.keyCode>=35&&i.keyCode<=40||(i.shiftKey||i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105)&&i.preventDefault()}),$(i).find(".jigl-select").on("blur",function(i){$(this).find(".jigl-select-dropdown").is(":visible")&&l(this,!1)}),$(i).find(".jigl-select").smartResize(function(i){if(""==$(this).find(".jigl-input-field > div").text())return void $(this).find(".jigl-input-field > span").hide();$(this).find(".jigl-input-field > div").css("width","");var n=$(this).find(".jigl-input-container").width(),t=$(this).find(".jigl-input-field > div").width(),e=$(this).find(".jigl-input-field > span").width();t>n?($(this).find(".jigl-input-field > div").width(n-e),$(this).find(".jigl-input-field > span").show()):$(this).find(".jigl-input-field > span").hide()}),$(i).find(".jigl-option").on("mouseover",function(i){$(this).parent().find(".jigl-option-selected").removeClass("jigl-option-selected"),$(this).addClass("jigl-option-selected"),$(this).parents(".jigl-select").length>0&&($(this).parents(".jigl-input-container").find(".jigl-input-field div").html($(this).text()),$(this).parents(".jigl-select").resize())}),$(i).find(".jigl-option").on("click",function(i){i.stopPropagation(),$(this).parents(".jigl-select").length>0?($(this).hasClass("jigl-option-selected")&&($(this).parents(".jigl-input-container").find("input").attr("value",$(this).attr("data-value")),$(this).parents(".jigl-input-container").find("input").val($(this).attr("data-value")),$(this).parents(".jigl-input-container").find(".jigl-input-field").attr("title",$(this).text()),$(this).removeClass("jigl-option-selected"),$(this).parents(".jigl-select").resize(),$(this).parents(".jigl-select").find("input").change()),l($(this).parents(".jigl-select"),!0)):$(this).hasClass("jigl-option-min")?$(this).parents(".jigl-range-container").find(".jigl-range-min").val($(this).text()):$(this).parents(".jigl-range-container").find(".jigl-range-max").val($(this).text())}),$(i).find(".jigl-option").on("mouseleave",function(i){$(this).removeClass("jigl-option-selected")})},o=function(i){i||(i="body"),$(i).find(".jigl-input").data({valid:!1}),$(i).find(".jigl-email-input").data({validate:function(i){var n=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return n.test(i)}}),$(i).find(".jigl-password-input").data({validate:function(i){var n=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/;return n.test(i)}}),$(i).find(".jigl-range").data({validate:function(i){var n=Number(i.min.replace("$","")),t="any"==i.max.toLowerCase()?-1:Number(i.min.replace("$",""));return-1==t||t>=n}})},r=function(i){i||(i="body"),$(i).find(".jigl-input").get().forEach(function(i,n,t){$(i).data({val:function(n){if(!n)return $(i).hasClass("jigl-select")?$(i).find(".jigl-input-container > input").val():$(i).hasClass("jigl-range")?{min:$(i).find(".jigl-range-dropdown .jigl-range-min").val(),max:$(i).find(".jigl-range-dropdown .jigl-range-max").val()}:$(i).find(".jigl-input-field").val();if($(i).hasClass("jigl-select"))$(i).find(".jigl-input-container > input").val(n),$(i).find(".jigl-input-container > input").attr("value",n);else if($(i).hasClass("jigl-range")){if(!n.min||!n.max)return;$(i).find(".jigl-range-dropdown .jigl-range-min").val(n.min),$(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",n.min),$(i).find(".jigl-range-dropdown .jigl-range-max").val(n.max),$(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",n.max)}else $(i).find(".jigl-input-field").val(n),$(i).find(".jigl-input-field").attr("value",n)},text:function(n){if(!n)return $(i).hasClass("jigl-select")?$(i).find(".jigl-input-container > .jigl-input-field > div").text():$(i).hasClass("jigl-range")?{min:$(i).find(".jigl-input-field .jigl-range-min").text(),max:$(i).find(".jigl-input-field .jigl-range-max").text()}:$(i).find(".jigl-input-field").val();if($(i).hasClass("jigl-select"))$(i).find(".jigl-input-container > .jigl-input-field > div").text(n),$(i).find(".jigl-input-container > .jigl-input-field").attr("title",n);else if($(i).hasClass("jigl-range")){if(!n.min||!n.max)return;$(i).find(".jigl-input-field .jigl-range-min").text(n.min),$(i).find(".jigl-input-field .jigl-range-max").text(n.max)}else $(i).find(".jigl-input-field").val(n),$(i).find(".jigl-input-field").attr("value",n)},setValues:function(n){if($(i).hasClass("jigl-select")){$(i).find(".jigl-input-container > input").val(n),$(i).find(".jigl-input-container > input").attr("value",n);var t=$(i).find('.jigl-option[data-value="'+n+'"]').html();$(i).find(".jigl-input-container > .jigl-input-field > div").text(t),$(i).find(".jigl-input-container > .jigl-input-field").attr("title",t)}else if($(i).hasClass("jigl-range")){if(!n.min||!n.max)return;$(i).find(".jigl-range-dropdown .jigl-range-min").val(n.min),$(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",n.min),$(i).find(".jigl-range-dropdown .jigl-range-max").val(n.max),$(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",n.max)}else $(i).find(".jigl-input-field").val(n),$(i).find(".jigl-input-field").attr("value",n)}})}),$(i).find(".jigl-range").get().forEach(function(i,n,t){$(i).data({minVal:function(n){return n?($(i).find(".jigl-range-dropdown .jigl-range-min").val(n),void $(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",n)):$(i).find(".jigl-range-dropdown .jigl-range-min").val()},maxVal:function(n){return n?($(i).find(".jigl-range-dropdown .jigl-range-max").val(n),void $(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",n)):$(i).find(".jigl-range-dropdown .jigl-range-max").val()},minText:function(n){return n?void $(i).find(".jigl-input-field .jigl-range-min").text(n):$(i).find(".jigl-input-field .jigl-range-min").text()},maxText:function(n){return n?void $(i).find(".jigl-input-field .jigl-range-max").text(n):$(i).find(".jigl-input-field .jigl-range-max").text()}})})};return{init:function(){d(),o(),r(),$(window).resize(function(){clearTimeout(i),i=setTimeout(function(){$(".jigl-select").resize()},300)}),$(".jigl-select").resize()},initializeContainer:function(i){var n="#"+i;d(n),o(n),r(n),$(".jigl-select").resize()},resetInputs:function(i){var n=i.find(".jigl-input");n.get().forEach(function(i,n,t){var e=$(i).find(".jigl-input-info");e.length>0&&(e.removeClass("jigl-input-error"),e.removeClass("jigl-input-okay"),$(i).hasClass("jigl-input-xs")||$(i).hasClass("jigl-input-xxs")||$(i).hasClass("jigl-input-micro")?e.html("<i class='fa fa-exclamation'></i>"):e.html("Required")),$(i).find(".jigl-input-field").val("")})}}}();