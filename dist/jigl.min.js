Array.prototype.find||(Array.prototype.find=function(i){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof i)throw new TypeError("predicate must be a function");for(var e,t=Object(this),l=t.length>>>0,n=arguments[1],a=0;l>a;a++)if(e=t[a],i.call(n,e,a,t))return e}),function(i,e){var t=function(i,e,t){var l;return function(){function n(){t||i.apply(a,s),l=null}var a=this,s=arguments;l?clearTimeout(l):t&&i.apply(a,s),l=setTimeout(n,e||100)}};jQuery.fn[e]=function(i){return i?this.bind("resize",t(i)):this.trigger(e)}}(jQuery,"smartResize");var Jigl=function(){var i,e="",t=!1,l=!1,n=function(i){var l=$(i).find(".jigl-select-dropdown");l.height()>=l.css("max-height").replace(/[^-\d\.]/g,"")&&l.width(l.width()+20),l.show(),($(i).hasClass("jigl-top-right")||$(i).hasClass("jigl-middle-right")||$(i).hasClass("jigl-bottom-right"))&&($(i).css("overflow","initial"),$(i).css("float","right"),$(i).css("z-index","1000"),t=!0),$(i).find(".jigl-dropdown-arrow > i").removeClass("fa-caret-down").addClass("fa-caret-up");var n=$(i).find(".jigl-field > div").text(),a=$(i).find(".jigl-option").get().find(function(i,e,t){return $(i).text()==n});a&&($(a).addClass("jigl-option-selected"),l.scrollTop(a.offsetTop)),e=n},a=function(i,l){var n=$(i).find(".jigl-select-dropdown");$(i).find(".jigl-dropdown-arrow > i").addClass("fa-caret-down").removeClass("fa-caret-up"),$(i).find(".jigl-option-selected").removeClass("jigl-option-selected"),n.height()>=n.css("max-height").replace(/[^-\d\.]/g,"")&&n.width(n.width()-20),n.hide(),t&&($(i).css("overflow",""),$(i).css("float",""),$(i).css("z-index",""),t=!1),l||$(i).find(".jigl-field > div").html(e),e=""},s=function(i){var e=$(i).find(".jigl-autocomplete-dropdown");e.height()>=e.css("max-height").replace(/[^-\d\.]/g,"")&&e.width(e.width()+20);var l=$(i).data().text().trim(),n=0;e.find(".jigl-option").each(function(i){$(this).hide(),$(this).text().trim().toLowerCase().startsWith(l)&&($(this).show(),++n)}),0!=n&&(e.show(),($(i).hasClass("jigl-top-right")||$(i).hasClass("jigl-middle-right")||$(i).hasClass("jigl-bottom-right"))&&($(i).css("overflow","initial"),$(i).css("float","right"),$(i).css("z-index","1000"),t=!0))},o=function(i){var e=$(i).find(".jigl-autocomplete-dropdown");$(i).find(".jigl-dropdown-arrow > i").addClass("fa-caret-down").removeClass("fa-caret-up"),$(i).find(".jigl-option-selected").removeClass("jigl-option-selected"),e.height()>=e.css("max-height").replace(/[^-\d\.]/g,"")&&e.width(e.width()-20),e.hide(),t&&($(i).css("overflow",""),$(i).css("float",""),$(i).css("z-index",""),t=!1)},d=function(i){$(i).find(".jigl-range-dropdown").show(),$(i).find(".jigl-dropdown-arrow > i").removeClass("fa-caret-down").addClass("fa-caret-up")},r=function(i){$(i).find(".jigl-dropdown-arrow > i").addClass("fa-caret-down").removeClass("fa-caret-up"),$(i).find(".jigl-option-selected").removeClass("jigl-option-selected"),$(i).find(".jigl-range-dropdown").hide();var e=$(i).find("span.jigl-range-min"),t=$(i).find("span.jigl-range-max"),l=$(i).find("input.jigl-range-min"),n=$(i).find("input.jigl-range-max");l.val().length<=1?l.val(e.html()):e.html(l.val()),n.val().length<=1?n.val(t.html()):t.html(n.val())},g=function(i){var e=!1;i||(i="body"),$(i).find(".jigl-text .jigl-field").on("blur",function(i){i.preventDefault(),$(this).parents("form").find(".jigl-text .jigl-field, .jigl-autocomplete .jigl-field").keyup()}),$(i).find(".jigl-field, .jigl-autocomplete, .jigl-select, .jigl-range").on("focus",function(i){i.preventDefault();var t=[];t=$(this).hasClass("jigl-field")?$(this).parents(".jigl"):$(this),t.find(".jigl-hint").is(":visible")&&t.find(".jigl-hint").hide(100);var l=t.find(".jigl-info");l.length>0&&(l.hasClass("jigl-error")&&l.removeClass("jigl-error"),l.hasClass("jigl-okay")&&l.removeClass("jigl-okay"),l.html("")),t.removeClass("jigl-hover"),t.hasClass("jigl-invalid")&&t.removeClass("jigl-invalid"),t.hasClass("jigl-disabled")||t.addClass("jigl-focus"),h(t),$(this).parents(".jigl").hasClass("jigl-autocomplete")&&(e||s($(this).parents(".jigl")))}),$(i).find(".jigl-field, .jigl-select, .jigl-range").on("keyup",function(i,e){i.preventDefault();var t=fieldTag=[],l=!1;$(this).hasClass("jigl-field")?(t=$(this).parents(".jigl"),fieldTagValue=$(this).val()):$(this).hasClass("jigl-select")?(t=$(this),fieldTagValue=$(this).find(".jigl-field > div").text().trim()):(l=!0,t=$(this),fieldTagValue=""!=$(this).find("input.jigl-range-min").val()||$(this).find("input.jigl-range-max").val()?{min:$(this).find("input.jigl-range-min").val(),max:$(this).find("input.jigl-range-max").val()}:null);var n=t.find(".jigl-info");if(n.length>0&&!t.hasClass("jigl-no-valid")){var a=!1;if(t.data().validate?(a=t.data().validate(fieldTagValue),t.data().valid=a):(a=""!=fieldTagValue||l&&null!=fieldTagValue,t.data().valid=a),a)n.removeClass("jigl-error"),n.addClass("jigl-okay"),h(t);else{var s=e&&e.markInvalid;n.removeClass("jigl-okay"),n.addClass("jigl-error"),h(t,s)}}else t.data().valid=!0}),$(i).find(".jigl-field, .jigl-select, .jigl-range").on("blur",function(i){i.preventDefault();var e=[];e=$(this).hasClass("jigl-field")?$(this).parents(".jigl"):$(this).hasClass("jigl-select")?$(this):$(this),$(this).keyup(),e.find(".jigl-info").hasClass("jigl-error")?(e.find(".jigl-hint").show(100),setTimeout(function(){e.find(".jigl-hint").hide(100)},7e3)):e.find(".jigl-hint").hide(100),e.removeClass("jigl-focus")}),$(i).find(".jigl").on("mouseover",function(i){$(this).hasClass("jigl-focus")||$(this).hasClass("jigl-disabled")||$(this).addClass("jigl-hover")}),$(i).find(".jigl").on("mouseleave",function(i){$(this).removeClass("jigl-hover")}),$(i).find(".jigl-text, .jigl-autocomplete").on("click",function(i){$(this).find(".jigl-field").focus()}),$(i).find(".jigl-autocomplete .jigl-field").on("blur",function(i){$(this).parents(".jigl").find(".jigl-autocomplete-dropdown").is(":visible")&&(e||o($(this).parents(".jigl")))}),$(i).find(".jigl-autocomplete").on("keydown",function(i){var e=$(this).find(".jigl-autocomplete-dropdown"),t=e.find(".jigl-option");if(!$(this).hasClass("jigl-disabled")){e.is(":visible")||t.length>0&&s(this);var l=$(this).find("input"),n=($(this).find(".jigl-field"),i.keyCode),a="";if(/[a-zA-Z ]/.test(String.fromCharCode(n))&&(a=i.key),""!=a||8==n){var d=l.val();if(""!=a?d+=a:8==n&&d.length>0&&(d=d.substr(0,d.length-1)),d=d.toLowerCase().trim(),0==d.length)return void o(this);$.each(t,function(i,e){$(e).removeClass("jigl-option-selected").hide();var t=$(e).text().toLowerCase().trim();t.startsWith(d)&&$(e).show()}),$(e).find(".jigl-option:visible:first").addClass("jigl-option-selected")}}}),$(i).find(".jigl-select").on("click",function(i){i.stopPropagation(),$(this).hasClass("jigl-disabled")||($(this).find(".jigl-select-dropdown").is(":visible")?a(this,!1):n(this))}),$(i).find(".jigl-select").on("blur",function(i){$(this).find(".jigl-select-dropdown").is(":visible")&&a(this,!1)}),$(i).find(".jigl-select, .jigl-autocomplete").on("keydown",function(i){var e=$(this).hasClass("jigl-select"),t=e?$(this).find(".jigl-select-dropdown"):$(this).find(".jigl-autocomplete-dropdown");if(t.is(":visible")){var l=$(this).find("input"),n=e?$(this).find(".jigl-field > div"):$(this).find(".jigl-field"),s=i.keyCode,d=$(".jigl-option.jigl-option-selected",t).first();return 40==s?(i.preventDefault(),0==d.length?$(".jigl-option",t).first().addClass("jigl-option-selected"):d.text()!=$(this).find(".jigl-option").last().text()&&d.removeClass("jigl-option-selected").next(".jigl-option").addClass("jigl-option-selected"),t.scrollTop($(this).find(".jigl-option-selected").get(0).offsetTop),n.html($(".jigl-option.jigl-option-selected",t).first().text()),void $(this).resize()):38==s?(i.preventDefault(),0==d.length?$(".jigl-option",t).last().addClass("jigl-option-selected"):d.text()!=$(this).find(".jigl-option").first().text()&&d.removeClass("jigl-option-selected").prev(".jigl-option").addClass("jigl-option-selected"),t.scrollTop($(this).find(".jigl-option-selected").get(0).offsetTop),n.html($(".jigl-option.jigl-option-selected",t).first().text()),void $(this).resize()):13==s?(i.preventDefault(),0!=d.length&&(e?(n.html(d.text()),l.attr("value",d.attr("data-value")),l.val(d.attr("data-value"))):$(this).data().val(d.text().trim()),d.removeClass("jigl-option-selected")),void(t.is(":visible")&&(e?a(this,!0):o(this),l.change()))):27==s?void(t.is(":visible")&&e&&a(this,!1)):void 0}});var t=!1;$(i).find(".jigl-range").on("click",function(i){i.stopPropagation(),i.preventDefault(),$(this).find(".jigl-range-dropdown").is(":visible")?t||r(this):d(this)}),$(i).find(".jigl-range").on("blur",function(i){$(this).find(".jigl-range-dropdown").is(":visible")&&(t||r(this))}),$(i).find(".jigl-range-dropdown").on("mouseenter",function(i){t=!0}),$(i).find(".jigl-range-dropdown").on("mouseleave",function(i){t=!1}),$(i).find(".jigl-range-input").on("click focus",function(i){$(this).val("$")}),$(i).find(".jigl-range-input").on("keyup",function(i){0==$(this).val().length&&$(this).val("$")}),$(i).find(".jigl-range-input").on("blur",function(i){t||r($(this).parents(".jigl-range"))}),$(i).find(".jigl-range-input").keydown(function(i){-1!==$.inArray(i.keyCode,[46,8,9,27,13,110,190])||65==i.keyCode&&(i.ctrlKey===!0||i.metaKey===!0)||i.keyCode>=35&&i.keyCode<=40||(i.shiftKey||i.keyCode<48||i.keyCode>57)&&(i.keyCode<96||i.keyCode>105)&&i.preventDefault()}),$(i).find(".jigl-select").on("blur",function(i){$(this).find(".jigl-select-dropdown").is(":visible")&&a(this,!1)}),$(i).find(".jigl-select").smartResize(function(i){if(""==$(this).find(".jigl-field > div").text())return void $(this).find(".jigl-field > span").hide();$(this).find(".jigl-field > div").css("width","");var e=$(this).find(".jigl-container").width(),t=$(this).find(".jigl-field > div").width(),l=$(this).find(".jigl-field > span").width();t>e?($(this).find(".jigl-field > div").width(e-l),$(this).find(".jigl-field > span").show()):$(this).find(".jigl-field > span").hide()}),$(i).find(".jigl-date input").on("focus",function(i){i.preventDefault();var e=$(this).parents(".jigl");($(e).hasClass("jigl-top-right")||$(e).hasClass("jigl-middle-right")||$(e).hasClass("jigl-bottom-right"))&&($(e).css("overflow","initial"),$(e).css("float","right"),$(e).css("z-index","1000"),l=!0)}),$(i).find(".jigl-date input").on("blur",function(i){if(i.preventDefault(),l){var e=$(this).parents(".jigl");$(e).css("overflow",""),$(e).css("float",""),$(e).css("z-index",""),l=!1}}),$(i).find(".jigl-autocomplete-dropdown").on("mouseenter",function(i){e=!0}),$(i).find(".jigl-autocomplete-dropdown").on("mouseleave",function(i){e=!1}),$(i).find(".jigl-option").on("mouseover",function(i){$(this).parent().find(".jigl-option-selected").removeClass("jigl-option-selected"),$(this).addClass("jigl-option-selected"),$(this).parents(".jigl-select").length>0&&($(this).parents(".jigl-container").find(".jigl-field div").html($(this).text()),$(this).parents(".jigl-select").resize())}),$(i).find(".jigl-option").on("click",function(i){i.stopPropagation(),$(this).parents(".jigl-select").length>0?($(this).hasClass("jigl-option-selected")&&($(this).parents(".jigl-container").find("input").attr("value",$(this).attr("data-value")),$(this).parents(".jigl-container").find("input").val($(this).attr("data-value")),$(this).parents(".jigl-container").find(".jigl-field").attr("title",$(this).text()),$(this).parents(".jigl-select").resize(),$(this).parents(".jigl-select").find("input").change(),$(this).removeClass("jigl-option-selected")),a($(this).parents(".jigl-select"),!0)):$(this).parents(".jigl-range").length>0?$(this).hasClass("jigl-option-min")?$(this).parents(".jigl-range-container").find(".jigl-range-min").val($(this).text()):$(this).parents(".jigl-range-container").find(".jigl-range-max").val($(this).text()):$(this).parents(".jigl-autocomplete").length>0&&($(this).hasClass("jigl-option-selected")&&($(this).parents(".jigl-autocomplete").data().val($(this).text().trim()),$(this).parents(".jigl-autocomplete").resize(),$(this).parents(".jigl-autocomplete").find("input").change(),$(this).removeClass("jigl-option-selected")),o($(this).parents(".jigl-autocomplete")))}),$(i).find(".jigl-option").on("mouseleave",function(i){$(this).removeClass("jigl-option-selected")})},f=function(i){i||(i="body"),$(i).find(".jigl").data({valid:!1}),$(i).find(".jigl-email-input").data({validate:function(i){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return e.test(i)}}),$(i).find(".jigl-password-input").data({validate:function(i){var e=/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{7,}/;return e.test(i)}}),$(i).find(".jigl-range").data({validate:function(i){var e=Number(i.min.replace("$","")),t="any"==i.max.toLowerCase()?-1:Number(i.min.replace("$",""));return-1==t||t>=e}})},j=function(i){i||(i="body"),$(i).find(".jigl").get().forEach(function(i,e,t){$(i).data({val:function(e){if(null==e)return $(i).hasClass("jigl-select")?$(i).find(".jigl-container > input").val():$(i).hasClass("jigl-range")?{min:$(i).find(".jigl-range-dropdown .jigl-range-min").val(),max:$(i).find(".jigl-range-dropdown .jigl-range-max").val()}:$(i).find(".jigl-field").val();if($(i).hasClass("jigl-select"))$(i).find(".jigl-container > input").val(e),$(i).find(".jigl-container > input").attr("value",e);else if($(i).hasClass("jigl-range")){if(!e.min||!e.max)return;$(i).find(".jigl-range-dropdown .jigl-range-min").val(e.min),$(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",e.min),$(i).find(".jigl-range-dropdown .jigl-range-max").val(e.max),$(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",e.max)}else $(i).find(".jigl-field").val(e),$(i).find(".jigl-field").attr("value",e)},text:function(e){if(null==e)return $(i).hasClass("jigl-select")?$(i).find(".jigl-container > .jigl-field > div").text():$(i).hasClass("jigl-range")?{min:$(i).find(".jigl-field .jigl-range-min").text(),max:$(i).find(".jigl-field .jigl-range-max").text()}:$(i).find(".jigl-field").val();if($(i).hasClass("jigl-select"))$(i).find(".jigl-container > .jigl-field > div").text(e),$(i).find(".jigl-container > .jigl-field").attr("title",e);else if($(i).hasClass("jigl-range")){if(!e.min||!e.max)return;$(i).find(".jigl-field .jigl-range-min").text(e.min),$(i).find(".jigl-field .jigl-range-max").text(e.max)}else $(i).find(".jigl-field").val(e),$(i).find(".jigl-field").attr("value",e)},setValues:function(e){if($(i).hasClass("jigl-select")){$(i).find(".jigl-container > input").val(e),$(i).find(".jigl-container > input").attr("value",e);var t=$(i).find('.jigl-option[data-value="'+e+'"]').html();$(i).find(".jigl-container > .jigl-field > div").text(t),$(i).find(".jigl-container > .jigl-field").attr("title",t)}else if($(i).hasClass("jigl-range")){if(!e.min||!e.max)return;$(i).find(".jigl-range-dropdown .jigl-range-min").val(e.min),$(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",e.min),$(i).find(".jigl-range-dropdown .jigl-range-max").val(e.max),$(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",e.max)}else $(i).find(".jigl-field").val(e),$(i).find(".jigl-field").attr("value",e)}})}),$(i).find(".jigl-range").get().forEach(function(i,e,t){$(i).data({minVal:function(e){return e?($(i).find(".jigl-range-dropdown .jigl-range-min").val(e),void $(i).find(".jigl-range-dropdown .jigl-range-min").attr("value",e)):$(i).find(".jigl-range-dropdown .jigl-range-min").val()},maxVal:function(e){return e?($(i).find(".jigl-range-dropdown .jigl-range-max").val(e),void $(i).find(".jigl-range-dropdown .jigl-range-max").attr("value",e)):$(i).find(".jigl-range-dropdown .jigl-range-max").val()},minText:function(e){return e?void $(i).find(".jigl-field .jigl-range-min").text(e):$(i).find(".jigl-field .jigl-range-min").text()},maxText:function(e){return e?void $(i).find(".jigl-field .jigl-range-max").text(e):$(i).find(".jigl-field .jigl-range-max").text()}})})},h=function(i,e){var t=$(i).find(".jigl-info");if(t&&!$(i).hasClass("jigl-no-valid")){var l=t.hasClass("info-minify");t.hasClass("jigl-okay")?(l?t.html("<i class='fa fa-check'></i>"):t.html("OK"),$(i).removeClass("jigl-invalid")):t.hasClass("jigl-error")?(l?t.html("<i class='fa fa-times'></i>"):t.html("Invalid"),e&&$(i).addClass("jigl-invalid")):(l?t.html("<i class='fa fa-exclamation'></i>"):t.html("Required"),$(i).removeClass("jigl-invalid"))}},c=function(){var i=$(".jigl-1");$.each(i,function(i,e){var t=$(e).prev();t.length>0&&"none"!=t.css("float")&&$(e).css("margin-top",t.outerHeight())})};return{init:function(){g(),f(),j(),$(".jigl-disabled").find("input").attr("disabled",!0),$(".jigl-disabled").find("textarea").attr("disabled",!0),$(window).resize(function(){clearTimeout(i),i=setTimeout(function(){$(".jigl-select").resize(),$(".jigl-autocomplete").resize()},300)}),c(),$(".jigl-select").resize()},initializeContainer:function(i){var e="#"+i;g(e),f(e),j(e),$(".jigl-select").resize()},validateContainer:function(i){$.each($(i).find(".jigl"),function(i,e){var t=$(e);t.hasClass("jigl-select")||t.hasClass("jigl-range")||(t=t.find(".jigl-field")),t.trigger("keyup",{markInvalid:!0})})},isContainerValid:function(i){if(0==i.length)return!0;var e=$(i).find(".jigl");if(e.length>0){var t=!0;return $.each(e,function(i,e){t&&($(e).data().valid||(t=!1))}),t}return $(i).hasClass("jigl")?$(i).data().valid:!1},resetInputs:function(i){var e=i.find(".jigl");e.get().forEach(function(i,e,t){var l=$(i).find(".jigl-info");l.length>0&&(l.removeClass("jigl-error"),l.removeClass("jigl-okay"),h(i)),$(i).find(".jigl-field").val("")})}}}();